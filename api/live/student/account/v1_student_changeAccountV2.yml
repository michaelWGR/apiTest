name: 学生更换账号接口V2
base_url: ${yml(student.base_url)}

variables:
  account: ${yml(student.account.account1)}
  password: ${yml(student.account.default_password)}
  password_md5: ${encrypt_md5($password)}
  code: ${yml(student.account.default_auth_code)}
  token: null
  expected_status_code: 200

request:
  url: /v1/student/changeAccountV2
  method: POST
  headers:
    Authorization: $token
    deviceId: ${yml(student.default_device_id)}
  params:
    newAccount: $account
    password: $password_md5
    code: $code

validate:
  - eq: ["status_code", $expected_status_code]