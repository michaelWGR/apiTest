- config:
    name: 学生端登录接口

- test:
    name: 学生正常登录
    api: api/live/student/account/v1_student_login.yml
    validate:
      - eq: [content.code, 200]
      - eq: [content.msg, ok]
      - eq: [content.success, true]

- test:
    name: 缺少必填参数
    api: api/live/student/account/v1_student_login.yml
    variables:
      account: null
      password: null
      devicedId: null
    validate:
      - eq: [content.code, 400]
      - eq: [content.msg, 参数错误]
      - eq: [content.success, false]

- test:
    name: 账号不存在
    api: api/live/student/account/v1_student_login.yml
    variables:
      account: ${yml(student.account.non_exists_account)}
      password: ${yml(student.account.defalut_password)}
      devicedId: ${yml(student.default_device_id)}
    validate:
      - eq: [content.code, 601]
      - eq: [content.msg, 该账号不存在]
      - eq: [content.success, false]

- test:
    name: 密码错误
    api: api/live/student/account/v1_student_login.yml
    variables:
      account: ${yml(student.account.account1)}
      password: wrong_password
      devicedId: ${yml(student.default_device_id)}
    validate:
      - eq: [content.code, 603]
      - eq: [content.msg, 密码错误]
      - eq: [content.success, false]