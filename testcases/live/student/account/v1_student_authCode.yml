- config:
    name: 短信登录获取验证码
    variables:
      trueAccount: ${yml(student.account.auth_code_account)}

- test:
    name: 短信登录获取验证码
    api: api/live/student/account/v1_student_authCode.yml
    variables:
      account: $trueAccount
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]
      - eq: [content.msg, ok]
      - eq: [content.success, true]

- test:
    name: 手机号格式错误
    api: api/live/student/account/v1_student_authCode.yml
    variables:
      account: ${yml(student.account.valid_account)}
    validate:
      - eq: [content.code, 400]
      - eq: [content.msg, 手机号码格式不正确]
      - eq: [content.success, false]

- test:
    name: 账号不存在
    api: api/live/student/account/v1_student_authCode.yml
    variables:
      account: 13145773691
    validate:
      - eq: [content.code, 601]
      - eq: [content.msg, 该账号不存在]
      - eq: [content.success, false]

- test:
    name: 数据类型错误
    api: api/live/student/account/v1_student_authCode.yml
    variables:
      account: abcdefhg
    validate:
      - eq: [content.code, 400]
      - eq: [content.msg, 手机号码格式不正确]
      - type_match: [content.success, bool]
      - eq: [content.success, False]