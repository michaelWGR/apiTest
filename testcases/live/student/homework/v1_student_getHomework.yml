- config:
    name: 获取用户作业
    variables:
      true_roomUserScheduleId: 242581
      wrong_roomUserScheduleId: 99999999
      wrong_type_roomUserScheduleId: abcdefg

- test:
    name: token错误
    api: api/live/student/homework/v1_student_getHomework.yml
    variables:
      roomUserScheduleId: $true_roomUserScheduleId
      token: null
    validate:
      - eq: [content.code, 703]
      - eq: [content.msg, accessToken error]

- test:
    name: get token
    testcase: testcases/live/student/account/student_get_token.yml
    output:
      - token

- test:
    name: 获取用户作业
    api: api/live/student/homework/v1_student_getHomework.yml
    variables:
      roomUserScheduleId: $true_roomUserScheduleId
      token: $token
    validate:
      - eq: [content.code, 200]
      - eq: [content.success, true]
      - type_match: [content.data, dict]
      - contains: [content.data, title]

- test:
    name: roomUserScheduleId错误
    api: api/live/student/homework/v1_student_getHomework.yml
    variables:
      roomUserScheduleId: $wrong_roomUserScheduleId
      token: $token
    validate:
      - eq: [content.code, 420]
      - eq: [content.msg, 没有找到相关作业]
      - eq: [content.success, false]

- test:
    name: roomUserScheduleId为空
    api: api/live/student/homework/v1_student_getHomework.yml
    variables:
      roomUserScheduleId: null
      token: $token
    validate:
      - eq: [content.code, 420]
      - eq: [content.msg, 没有找到相关作业]
      - eq: [content.success, false]


- test:
    name: roomUserScheduleId参数类型错误
    api: api/live/student/homework/v1_student_getHomework.yml
    variables:
      roomUserScheduleId: $wrong_roomUserScheduleId
      token: $token
    validate:
      - eq: [content.code, 420]
      - eq: [content.msg, 没有找到相关作业]
      - eq: [content.success, false]
