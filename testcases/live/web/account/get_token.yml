- config:
    name: login to web

- test:
    name: get refresh token
    api: api/live/web/account/v1_student_web_login.yml
    variables:
        account: ${yml(web_account)}
        password: ${yml(web_password)}
        deviceId: ${yml(web_device_id)}
        userId: ${yml(web_user_id)}
    extract:
        - token: content.data.accessToken
    validate:
        - eq: [content.code, 200]
        - eq: [content.msg, ok]
        - eq: [content.success, true]
        - type_match: [content.data, dict]
        - eq: [content.data.userId, $userId]
        - len_eq: [content.data.accessToken, 220]
        - type_match: [content.data.accessTokenExpire, int]
        - len_eq: [content.data.refreshToken, 40]
        - type_match: [content.data.refreshTokenExpire, int]
        - contains: [content.data, nickName]
        - contains: [content.data, userInfoVo]