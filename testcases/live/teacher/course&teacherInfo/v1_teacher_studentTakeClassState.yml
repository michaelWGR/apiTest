- config:
    name: 获取班级学生到课情况

- test:
    name: get token
    testcase: testcases/live/teacher/account/get_token.yml
    output:
        - token
- test:
    name: 获取成功
    api: api/live/teacher/course&teacherInfo/v1_teacher_studentTakeClassState.yml
    variables:
        Authorization: $token
        deviceId: 123456
        classRoomScheduleId: 662434
    validate:
        - eq: [content.code, 200]
        - eq: [content.msg, ok]
        - type_match: [content.data, dict]
        - eq: [content.success, true]
- test:
    name: token 错误
    api: api/live/teacher/course&teacherInfo/v1_teacher_studentTakeClassState.yml
    variables:
      deviceId: 123456
      Authorization: abc
      classRoomScheduleId: 662434
    validate:
      - eq: [content.code, 703]
      - eq: [content.msg, accessToken error]

- test:
    name: token 为空
    api: api/live/teacher/course&teacherInfo/v1_teacher_studentTakeClassState.yml
    variables:
      deviceId: 123456
      Authorization: null
      classRoomScheduleId: 662434
    validate:
      - eq: [content.code, 703]
      - eq: [content.msg, accessToken error]

- test:
    name: classRoomScheduleId为空
    api: api/live/teacher/course&teacherInfo/v1_teacher_studentTakeClassState.yml
    variables:
      deviceId: 123456
      Authorization: $token
      classRoomScheduleId: null
    validate:
      - eq: [status_code, 500]
      - eq: [content.msg, system error]
      - eq: [content.data, null]
      - eq: [content.success, false]

- test:
    name: classRoomScheduleId 不存在
    api: api/live/teacher/course&teacherInfo/v1_teacher_studentTakeClassState.yml
    variables:
      deviceId: 123456
      Authorization: $token
      classRoomScheduleId: 666666666
    validate:
      - eq: [content.code, 200]
      - eq: [content.msg, ok]
      - type_match: [content.data, dict]
      - eq: [content.success, true]

- test:
    name: deviceId 为空
    api: api/live/teacher/course&teacherInfo/v1_teacher_studentTakeClassState.yml
    variables:
      deviceId: null
      Authorization: $token
      classRoomScheduleId: 662434
    validate:
      - eq: [content.code, 703]
      - eq: [content.msg, accessToken error]

- test:
    name: deviceId 不正确
    api: api/live/teacher/course&teacherInfo/v1_teacher_studentTakeClassState.yml
    variables:
      deviceId: 666666
      Authorization: $token
      classRoomScheduleId: 662434
    validate:
      - eq: [content.code, 703]
      - eq: [content.msg, accessToken error]

- test:
    name: classRoomScheduleId、deviceId为空
    api: api/live/teacher/course&teacherInfo/v1_teacher_studentTakeClassState.yml
    variables:
      deviceId: null
      Authorization: $token
      courseInfoId: null
    validate:
      - eq: [content.code, 703]
      - eq: [content.msg, accessToken error]

- test:
    name: classRoomScheduleId、deviceId不正确
    api: api/live/teacher/course&teacherInfo/v1_teacher_studentTakeClassState.yml
    variables:
      deviceId: 666666
      Authorization: $token
      classRoomScheduleId: 666666666

    validate:
      - eq: [content.code, 703]
      - eq: [content.msg, accessToken error]

