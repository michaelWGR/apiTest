- config:
    name: 上传告警信息
    variables:
      method: POST
      ContentType: "application/json"
      timeStamp: ${cur_time_stamp()}
    setup_hooks:
      - ${hook_print($timeStamp)}

#- test:
#    name: 声网掉线onConnectionInterrupted
#    api: api/live/liveMonitor/warn.yml
#    variables:
#      method: $method
#      ContentType: $ContentType
#      list:
#        - {description: 声网掉线onConnectionInterrupted, deviceId: d3469113c076a16c, userName: test16,
#           warnCode: 4002, userId: 600016, timestamp: $timeStamp, roomUserScheduleId: 246496}
#    validate:
#      - eq: ["status_code", $expected_status_code]
#      - eq: [content.code, 200]
#
#- test:
#    name: 重连失败
#    api: api/live/liveMonitor/warn.yml
#    variables:
#      method: $method
#      ContentType: $ContentType
#      list:
#        - {description: 重连失败！, deviceId: d3469113c076a17c, userName: test17, warnCode: 3001,
#           userId: 600017, timestamp: $timeStamp, roomUserScheduleId: 246496}
#      validate:
#        - eq: ["status_code", $expected_status_code]
#        - eq: [content.code, 200]

- test:
    name: 进入房间失败
    api: api/live/liveMonitor/warn.yml
    variables:
      method: $method
      ContentType: $ContentType
      list:
        - {description: 进入房间失败！, deviceId: d3469113c076a7bc, userName: test18, warnCode: 2002,
           userId: 600018, timestamp: $timeStamp, roomUserScheduleId: 246496}
      validate:
        - eq: ["status_code", $expected_status_code]
        - eq: [content.code, 200]